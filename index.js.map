{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\n/*\nЦя функція повинна приймати один параметр query (пошукове слово, яке є рядком),\n здійснювати HTTP-запит і\n повертати значення властивості data з отриманої відповіді.\n */\nconst API_KEY = '52353709-9856f312e72a5e0829ceb9a35';\n\nexport default function getImagesByQuery(query) {\n  return axios('https://pixabay.com/api/', {\n    params: {\n      key: API_KEY,\n      q: query,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n    },\n  })\n    .then(response => {\n      return response.data;\n    })\n    .catch(error => {\n      return error;\n    });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst galleryContainer = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader-container');\n\nconst gallery = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n  overlayOpacity: 0.8,\n});\n\n/*\nЦя функція повинна приймати масив images, \nстворювати HTML-розмітку для галереї, \nдодавати її в контейнер галереї та \nвикликати метод екземпляра SimpleLightbox refresh(). \nНічого не повертає*/\nexport function createGallery(images) {\n  console.log(images);\n  const imgListItemCollection = [];\n\n  for (const {\n    webformatURL,\n    largeImageURL,\n    tags,\n    likes,\n    views,\n    comments,\n    downloads,\n  } of images) {\n    imgListItemCollection.push(`<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${largeImageURL}\">\n    <img\n      class=\"gallery-image\"\n      src=\"${webformatURL}\"\n      data-source=\"${largeImageURL}\"\n      alt=\"${tags}\"\n    />\n    <ul class=\"gallery-desc\">\n      <li class=\"gallery-desk-item\">\n        <p class=\"gallery-desk-key\">Likes</p>\n        <p class=\"gallery-desk-value\">${likes}</p>\n      </li>\n      <li class=\"gallery-desk-item\">\n        <p class=\"gallery-desk-key\">Views</p>\n        <p class=\"gallery-desk-value\">${views}</p>\n      </li>\n      <li class=\"gallery-desk-item\">\n        <p class=\"gallery-desk-key\">Comments</p>\n        <p class=\"gallery-desk-value\">${comments}</p>\n      </li>\n      <li class=\"gallery-desk-item\">\n        <p class=\"gallery-desk-key\">Downloads</p>\n        <p class=\"gallery-desk-value\">${downloads}</p>\n      </li>\n    </ul>\n  </a>\n</li>`);\n  }\n\n  galleryContainer.innerHTML = imgListItemCollection.join('\\n');\n  gallery.refresh();\n}\n\n/*\nЦя функція нічого не приймає та \nповинна очищати вміст контейнера галереї. \nНічого не повертає. */\nexport function clearGallery() {\n  galleryContainer.innerHTML = '';\n}\n\n/*\nЦя функція нічого не приймає, \nповинна додавати клас для відображення лоадера. \nНічого не повертає. */\nexport function showLoader() {\n  loader.classList.remove('is-hidden');\n}\n\n/*\nЦя функція нічого не приймає, \nповинна прибирати клас для відображення лоадера. \nНічого не повертає. */\nexport function hideLoader() {\n  loader.classList.add('is-hidden');\n}\n","/*\nУ файлі main.js напиши всю логіку роботи додатка. \nВиклики нотифікацій iziToast, \nусі перевірки на довжину масиву в отриманій відповіді робимо саме в цьому файлі. \nІмпортуй в нього функції із файлів pixabay-api.js та render-functions.js \nта викликай їх у відповідний момент. */\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport getImagesByQuery from './js/pixabay-api';\nimport {\n  createGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from './js/render-functions';\n\nconst form = document.querySelector('.form');\nlet images = [];\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  clearGallery();\n  const searchReq = event.target.elements.searchText.value.trim();\n  if (!searchReq.length) {\n    showPopUp('Enter key words to search for images');\n    return;\n  }\n\n  showLoader();\n  getImagesByQuery(searchReq)\n    .then(data => {\n      images = data.hits;\n      hideLoader();\n      createGallery(images);\n      if (!images.length) {\n        showPopUp(\n          'Sorry, there are no images matching your search query. Please try again!'\n        );\n        return;\n      }\n    })\n    .catch(error => {\n      showPopUp(error.message);\n    });\n});\n\nfunction showPopUp(msg) {\n  iziToast.show({\n    message: msg,\n    position: 'topRight',\n    backgroundColor: '#EF4040',\n    messageColor: '#FFFFFF',\n    progressBarColor: '#B51B1B',\n    overlayColor: '#FFBEBE',\n  });\n}\n"],"names":["API_KEY","getImagesByQuery","query","axios","response","error","galleryContainer","loader","gallery","SimpleLightbox","createGallery","images","imgListItemCollection","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","form","event","searchReq","showPopUp","data","msg","iziToast"],"mappings":"owBAOA,MAAMA,EAAU,qCAED,SAASC,EAAiBC,EAAO,CAC9C,OAAOC,EAAM,2BAA4B,CACvC,OAAQ,CACN,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACL,CAAG,EACE,KAAKE,GACGA,EAAS,IACjB,EACA,MAAMC,GACEA,CACR,CACL,CCtBA,MAAMC,EAAmB,SAAS,cAAc,UAAU,EACpDC,EAAS,SAAS,cAAc,mBAAmB,EAEnDC,EAAU,IAAIC,EAAe,aAAc,CAC/C,aAAc,MACd,aAAc,IACd,eAAgB,EAClB,CAAC,EAQM,SAASC,EAAcC,EAAQ,CACpC,QAAQ,IAAIA,CAAM,EAClB,MAAMC,EAAwB,CAAA,EAE9B,SAAW,CACT,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IAAIR,EACHC,EAAsB,KAAK;AAAA,kCACGE,CAAa;AAAA;AAAA;AAAA,aAGlCD,CAAY;AAAA,qBACJC,CAAa;AAAA,aACrBC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,wCAKuBC,CAAK;AAAA;AAAA;AAAA;AAAA,wCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,wCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,wCAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,MAI3C,EAGJb,EAAiB,UAAYM,EAAsB,KAAK;AAAA,CAAI,EAC5DJ,EAAQ,QAAO,CACjB,CAMO,SAASY,GAAe,CAC7Bd,EAAiB,UAAY,EAC/B,CAMO,SAASe,GAAa,CAC3Bd,EAAO,UAAU,OAAO,WAAW,CACrC,CAMO,SAASe,GAAa,CAC3Bf,EAAO,UAAU,IAAI,WAAW,CAClC,CCrEA,MAAMgB,EAAO,SAAS,cAAc,OAAO,EAC3C,IAAIZ,EAAS,CAAA,EAEbY,EAAK,iBAAiB,SAAUC,GAAS,CACvCA,EAAM,eAAc,EACpBJ,IACA,MAAMK,EAAYD,EAAM,OAAO,SAAS,WAAW,MAAM,OACzD,GAAI,CAACC,EAAU,OAAQ,CACrBC,EAAU,sCAAsC,EAChD,MACD,CAEDL,IACApB,EAAiBwB,CAAS,EACvB,KAAKE,GAAQ,CAIZ,GAHAhB,EAASgB,EAAK,KACdL,IACAZ,EAAcC,CAAM,EAChB,CAACA,EAAO,OAAQ,CAClBe,EACE,0EACV,EACQ,MACD,CACP,CAAK,EACA,MAAMrB,GAAS,CACdqB,EAAUrB,EAAM,OAAO,CAC7B,CAAK,CACL,CAAC,EAED,SAASqB,EAAUE,EAAK,CACtBC,EAAS,KAAK,CACZ,QAASD,EACT,SAAU,WACV,gBAAiB,UACjB,aAAc,UACd,iBAAkB,UAClB,aAAc,SAClB,CAAG,CACH"}